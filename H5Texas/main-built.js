typeof game=="undefined"&&(game={}),typeof core=="undefined"&&(core={}),core.isUndefined=function(e){return typeof e=="undefined"},core.isObject=function(e){return typeof e=="object"},core.isArray=function(e){return typeof e=="Array"||e instanceof Array},core.isNumber=function(e){return core.isArray(e)?!1:!isNaN(e)},core.isFunction=function(e){return typeof e=="function"},core.isString=function(e){return typeof e=="string"},core.random=function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1);case 2:return parseInt(Math.random()*(t-e+1)+e);default:return math.random()}return Math.random()},core.clone=function(e){if(core.isUndefined(e))return null;if(core.isArray(e)){var t=new Array;for(var n=0,r=e.length;n<r;++n)t[n]=this.clone(e[n]);return t}if(core.isObject(e)){var i=new Object;for(var n in e)i[n]=this.clone(e[n]);return i}return e},core.merge=function(e,t){var n=core.clone(e);if(!t)return n;if(core.isArray(t)){n=n||[];var r=n.length;for(var i=0,s=t.length;i<s;++i){var o=t[i];if(core.isFunction(o))continue;core.isArray(o)||core.isObject(o)?i<r?n[i]=core.merge(null,o):n.push(core.merge(null,o)):i<r?n[i]=o:n.push(o)}}else if(core.isObject(t)){n=n||{};for(var u in t){var o=t[u];if(core.isFunction(o))continue;core.isArray(o)||core.isObject(o)?n[u]=core.merge(null,o):n[u]=o}}else n=t;return n},core.getExit=function(e,t){if(!t||!e)return{};var n={};for(var r in t){if(core.isUndefined(e[r]))continue;var i=t[r];if(core.isFunction(i))continue;core.isArray(i)||core.isObject(i)?n[r]=core.getExit(e[r],i):n[r]=i}return n},core.dump=function(e){var t="    ",n=function(e,r){var i="";for(var s=0;s<r;++s)i+=t;var o="";if(core.isArray(e)){o+="\n"+i+"[\n";for(var s=0,u=e.length;s<u;++s)!core.isArray(e[s])&&!core.isObject(e[s])&&!core.isFunction(e[s])?o+=i+t+n(e[s],r+1)+",\n":o+=i+n(e[s],r+1)+",\n";o+=i+"]"}else if(core.isObject(e)){o+=i+"{\n";for(var a in e)o+=i+t+a+":"+n(e[a],r+1)+",\n";o+=i+"}"}else if(!core.isFunction(e))return core.isString(e)?'"'+e+'"':e;return o==""?"":o};console.log(n(e,0))},core.toArray=function(e){var t=[];for(var n in e){if(core.isFunction(e[n]))continue;t.push(n),t.push(e[n])}return t};try{var crypto=require("crypto");core.md5=function(e){var t=e;return core.isString(e)||(t=JSON.stringify(e)),crypto.createHash("md5").update(t).digest("hex")}}catch(e){}core.foreach=function(e,t){if(!e||!t)return;if(core.isNumber(e))for(var n=0;n<e;++n)t(n);else if(core.isString(e))for(var n=0,r=e.length;n<r;n++)t(n,e.charAt(n));else if(core.isArray(e))for(var n=0,r=e.length;n<r;++n)t(n,e[n]);else if(core.isObject(e))for(var i in e)t(i,e[i]);return},core.find=function(e,t){if(!e||!t)return;if(core.isArray(e)){for(var n=0,r=e.length;n<r;++n)if(t(e[n])===!0)return e[n]}else if(core.isObject(e))for(var i in e)if(t(e[i])===!0)return e[i]},core.indexOf=function(e,t){if(!e||!t)return;if(core.isArray(e)){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n}else if(core.isObject(e))for(var i in e)if(e[i]===t)return i;return},define("Framework/Core/Base.js",function(){});var AStarNode=cc.Class.extend({ParentNode:null,CurTilePos:null,G:0,H:0,ctor:function(e,t){this.ParentNode=e,this.CurTilePos=t,this.ParentNode?this.G=this.ParentNode.G+10:this.G=0},F:function(){return this.G+this.H}});GAStar={_markList:[],_markedList:[],_routes:[],_maxTileWidth:0,_maxTileHeight:0,_mapData:null,getRoutes:function(e,t,n,r,i){this._markList=[],this._markedList=[],this._routes=[],this._mapData=n,this._maxTileWidth=r,this._maxTileHeight=i;var s=cc.pSub(e,t),o=new AStarNode(null,e);o.H=(Math.abs(s.x)+Math.abs(s.y))*14,this._markList.push(o),o=this._routing(e,t);while(o)this._routes.push(o.CurTilePos),o=o.ParentNode;return this._routes.reverse(),this._routes.removeAt(0),this._routes},_routing:function(e,t){if(this._markList.length<=0)return null;var n=this._markList[0],r=0;for(var i=1;i<this._markList.length;++i){n.F()>this._markList[i].F()&&(n=this._markList[i],r=i);if(cc.pSameAs(this._markList[i].CurTilePos,t))return this._markList[i]}this._markList.removeAt(r),this._markedList.push(n);var s=cc.p(0,0);return s.x=n.CurTilePos.x,s.y=n.CurTilePos.y+1,this._addToMark(s,t,n),s=cc.p(0,0),s.x=n.CurTilePos.x,s.y=n.CurTilePos.y-1,this._addToMark(s,t,n),s=cc.p(0,0),s.x=n.CurTilePos.x-1,s.y=n.CurTilePos.y,this._addToMark(s,t,n),s=cc.p(0,0),s.x=n.CurTilePos.x+1,s.y=n.CurTilePos.y,this._addToMark(s,t,n),this._routing(e,t)},_isInMark:function(e){for(var t=0;t<this._markList.length;++t)if(cc.pSameAs(this._markList[t].CurTilePos,e))return!0;for(var t=0;t<this._markedList.length;++t)if(cc.pSameAs(this._markedList[t].CurTilePos,e))return!0;return!1},_addToMark:function(e,t,n){if(e.x<0||e.y<0||!this._mapData[e.y]||!this._mapData[e.y][e.x]||this._mapData[e.y][e.x]!=1)return;if(!this._isInMark(e)){var r=new AStarNode(n,e),i=cc.pSub(n.CurTilePos,t);r.H=(Math.abs(i.x)+Math.abs(i.y))*10,this._markList.push(r)}}},define("Framework/Core/GAstar.js",function(){}),GHelper={random:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1);case 2:return parseInt(Math.random()*(t-e+1)+e);default:return Math.random()}return Math.random()},clone:function(e){if(cc.isUndefined(e))return null;if(cc.isArray(e)){var t=new Array;for(var n=0,r=e.length;n<r;++n)t[n]=this.clone(e[n]);return t}if(cc.isObject(e)){var i=new Object;for(var n in e)i[n]=this.clone(e[n]);return i}return e},merge:function(e,t){if(!t)return e;e=e||{};for(var n in t)e[n]=this.clone(t[n]);return e},dump:function(e){var t="    ",n=function(e,r){if(cc.isUndefined(e))return;var i="";for(var s=0;s<r;++s)i+=t;var o="";if(cc.isArray(e)){o+="\n"+i+"[\n";for(var s=0,u=e.length;s<u;++s)!cc.isArray(e[s])&&!cc.isObject(e[s])&&!cc.isFunction(e[s])?o+=i+t+n(e[s],r+1)+",\n":o+=i+n(e[s],r+1)+",\n";o+=i+"]"}else if(cc.isObject(e)){o+=i+"{\n";for(var a in e)o+=i+t+a+":"+n(e[a],r+1)+",\n";o+=i+"}"}else if(!cc.isFunction(e))return cc.isString(e)?'"'+e+'"':e;return o==""?"":o};cc.log(n(e,0))},convertChipNumToStr:function(e){return e?e<=9999?""+e:e>9999&&e<=999999?Math.floor(e/1e3)+"K":Math.floor(e/1e6)+"M":""},serverCardToClientCard:function(e){if(!e)return null;if(core.isObject(e)){var t=[];return core.foreach(e,function(e,n){var r=[];r.push(Math.floor(n/13)),r.push(n%13+2),t.push(r)}),t}var n=[];return n.push(Math.floor(e/13)),n.push(e%13+2),n}},define("Framework/Core/GHelper.js",function(){}),Array.prototype.removeAt=function(e){if(this.length<=e||e<0)return;for(var t=e+1,n=e;t<this.length;++t,++n)this[n]=this[t];this.pop()},define("Framework/Core/JsExtention.js",function(){}),ETriggerType={Region:0,Condition:1},EConditionType={Die:0,Hit:1,HP:2,MP:3},_GTriggerCode=0,GTriggerMgr={_regionTriggers:{},_conditionTriggers:{},init:function(){this.clearAll()},clearAll:function(){this.clearRegionTrigger(),this.clearConditionTrigger()},clear:function(e){cc.isUndefined(e)?this.clearAll():e==ETriggerType.Region?this.clearRegionTrigger():this.clearConditionTrigger()},initRegionTrigger:function(e,t,n){this.clearRegionTrigger();if(!t||t.length<=0)return;for(var r=0,i=t.length;r<i;++r)this._regionTriggers.triggerInfos[r]={trigger:t[r]};if(cc.isArray(e))for(var r=0,i=e.length;r<i;++r)this._regionTriggers.objInfos[r]={obj:e[r]};else this._regionTriggers.objInfos[0]={obj:e};typeof n!="undefined"&&(this._regionTriggers.callBackObj=n),this._checkRegion()},clearRegionTrigger:function(){this._regionTriggers={triggerInfos:[],objInfos:[],callBackObj:null}},addObjToRegionTrigger:function(e){this._regionTriggers.objInfos[this._regionTriggers.objInfos.length]={obj:e}},removeObjInRegionTrigger:function(e){for(var t=0;t<this._regionTriggers.objInfos.length;++t){var n=this._regionTriggers.objInfos[t].obj;if(n===e){this._regionTriggers.objInfos.removeAt(t);return}}},_isInTrigger:function(e,t){return!e||typeof t=="undefined"?!1:(cc.log("pos.x"+e.x+"  pos.y="+e.y),cc.log("region.x"+t.x+"  region.y="+t.y),e.x<t.x-t.width/2?!1:e.x>t.x+t.width/2?!1:e.y<t.y-t.height/2?!1:e.y>t.y+t.height/2?!1:!0)},check:function(){this._checkRegion()},_checkRegion:function(){for(var e=0,t=this._regionTriggers.objInfos.length;e<t;++e){var n=this._regionTriggers.objInfos[e];if(!n)continue;var r=n.obj;if(!r||!r.getPosition){this.removeObjInRegionTrigger(r);continue}var i=r.getPosition();if(!n.prePos||!cc.pFuzzyEqual(i,n.prePos,10)){n.prePos=i;for(var e=0,t=this._regionTriggers.triggerInfos.length;e<t;++e){var s=this._regionTriggers.triggerInfos[e];this._isInTrigger(i,s.trigger.region)?s[r]&&s[r]==-1&&(this._triggerIn(r,s.trigger),s[r]=1):(s[r]&&s[r]==1&&this._triggerOut(r,s.trigger),s[r]=-1)}}}},_triggerIn:function(e,t){if(!this._regionTriggers.callBackObj||!this._regionTriggers.callBackObj.onTriggerIn)return;cc.log("some one triggered in"),this._regionTriggers.callBackObj.onTriggerIn(e,t)},_triggerOut:function(e,t){if(!this._regionTriggers.callBackObj||!this._regionTriggers.callBackObj.onTriggerOut)return;cc.log("some one triggered out"),this._regionTriggers.callBackObj.onTriggerOut(e,t)},initConditionTrigger:function(){this._conditionTriggers={};for(var e in EConditionType)this._conditionTriggers[conditiontype]={}},clearConditionTrigger:function(){this._conditionTriggers=[];for(var e in EConditionType)this._conditionTriggers[EConditionType[e]]={}},triggerCondition:function(e,t,n){t=t||{},n=n||{};for(var r in this._conditionTriggers[e]){var i=this._conditionTriggers[e][r];for(var s in i.conditions)if(i.conditions[s]!==n[s])return!1;i.callback(t)}return!0},addConditionTriggerEvent:function(e,t,n){return n=n||{},_GTriggerCode+=1,this._conditionTriggers[e][_GTriggerCode]={callback:t,conditions:n},{type:e,code:_GTriggerCode}},removeConditionTriggerEvent:function(e,t){typeof t=="undefiended"?this._conditionTriggers[e]={}:delete this._conditionTriggers[e][t]}},define("Framework/Core/GTriggerMgr.js",function(){});var BehaviorAI=cc.Class.extend("BehaviorAI",{_obj:null,_targetObjs:[],_triggers:[],_behavior_data:null,_current_behavior_name:"",_current_check:[],_targetObj:null,ctor:function(e,t,n){this._obj=t,this._behavior_data=e,cc.isArray(n)?this._targetObjs=n:n?this._targetObjs[0]=n:this._targetObjs=[],this._triggers=[];var r=GTriggerMgr.addConditionTriggerEvent(EConditionType.Die,this.onTriggerDie.bind(this),{code:this._obj.getCode()});this._triggers.push({type:EConditionType.Die,code:r})},start:function(){if(!this._behavior_data){cc.log("------------error------------this._behavior_data  can not be null!");return}this.goto(this._behavior_data.start)},end:function(){for(var e=0,t=this._triggers.length;e<t;++e)GTriggerMgr.removeConditionTriggerEvent(this._triggers[e].type,this._triggers[e].code);this._triggers=[]},update:function(e){if(this._current_check.length<0)return;for(var t=0;t<this._current_check.length;++t){var n=this._current_check[t];if(n.event_name=="target_insight"){var r=this._getNearestTarget();if(r){var i=r.target,s=r.distance;if(s<=this._behavior_data.insight){this._current_check.removeAt(t),--t;var o=this._doEvents(this._current_behavior.conditions[n.event_name]);if(o)return}}}else if(n.event_name=="sure"){this._current_check.removeAt(t),--t;var o=this._doEvents(this._current_behavior.conditions[n.event_name]);if(o)return}else if(n.event_name=="near")if(this._targetObj){var u=this._obj.getPosition(),a=this._targetObj.getPosition(),s=cc.pDistance(u,a),f=u.y-a.y;f=f>=0?f:-f;if(s<=n.distance&&f<=10){this._current_check.removeAt(t),--t;var o=this._doEvents(this._current_behavior.conditions[n.event_name]);if(o)return}}else{this._current_check.removeAt(t),--t;var o=this._doEvents(this._current_behavior.conditions[n.event_name],!0);if(o)return}else if(n.event_name=="timeout"){n.time-=e;if(n.time<=0){this._current_check.removeAt(t),--t;var o=this._doEvents(this._current_behavior.conditions[n.event_name]);if(o)return}}}},"goto":function(e){if(this._behavior_data&&this._behavior_data.name==e)return;this._current_check=[],this._current_behavior=this._behavior_data.behaviors[e],this._behavior_data.conditions&&this._checkConditions(this._behavior_data.conditions),this._current_behavior.conditions&&this._checkConditions(this._current_behavior.conditions);if(this._current_behavior.animation)if(!this._current_behavior.conditions.animation_done)this._obj.behaviorAnimation(this._current_behavior.animation.name,this._current_behavior.animation.loop);else{var t=this;this._obj.behaviorAnimation(this._current_behavior.animation.name,this._current_behavior.animation.loop,function(){t._doEvents(t._current_behavior.conditions.animation_done)})}else cc.log("---------warning--------_goto->behavior_name="+e+".animaiton not exist!")},_checkConditions:function(e){if(!e)return;for(var t in e)switch(t){case"target_insight":this._current_check.push({event_name:t});break;case"timeout":this._current_check.push({event_name:t,time:e[t].time});break;case"sure":this._current_check.push({event_name:t});break;case"near":this._targetObj=null,this._current_check.push({event_name:t,distance:e[t].distance});var n=this._getNearestTarget();n&&(this._behavior_data.name=="sm"&&cc.log("distance"+n.distance),this._targetObj=n.target);break;default:}},_doEvents:function(e,t){if(!e)return!1;if(t&&e.failto)return this.goto(e.failto),!0;var n=!1;for(var r in e)switch(r){case"goto":this.goto(e[r]),n=!0;break;case"walk_any":this._obj.behaviorWalkAny&&this._obj.behaviorWalkAny();break;case"persue":this._obj.behaviorPersue&&this._targetObj&&this._obj.behaviorPersue(this._targetObj);break;case"call":e[r].fun&&this._obj[e[r].fun]&&this._obj[e[r].fun](e[r].params);break;case"random":var i=GHelper.random(),s=0,o=!1;for(var u=0,a=e[r].length;u<a-1;++u){s+=e[r][u].rate;if(i<=s){n=this._doEvents(e[r][u].events),o=!0;break}}o||(n=this._doEvents(e[r][e[r].length-1].events));default:}return n},onTriggerDie:function(e){if(!e)return;if(this._obj.getCode()===e.code){this.goto("die"),this.end();return}for(var t=0,n=this._targetObjs.length;t<n;++t)if(this._targetObjs[t].getCode()===e.code){this._targetObjs.removeAt(t),this._targetObj.getCode()===e.code&&(this._targetObj=null);return}return},_getNearestTarget:function(){var e=this._targetObjs.length;if(e<=0)return null;var t=this._obj.getPosition();if(e==1)return{target:this._targetObjs[0],distance:cc.pDistance(t,this._targetObjs[0].getPosition())};var n=0,r=cc.pDistance(t,this._targetObjs[0].getPosition());for(var i=1;i<e;++i){var s=cc.pDistance(t,this._targetObjs[i].getPosition());r>s&&(r=s,n=i)}return{target:this._targetObjs[n],distance:r}},addTarget:function(e){if(!e)return;this._targetObjs.push(e)},getTargets:function(){return this._targetObjs}});define("Framework/Core/BehaviorAI.js",function(){}),Base_Screen_Width=1136,Base_Screen_Height=640,ETag={Tile_Map:10086,ArmatureRole:10087,Skin:10088,Coat:10089,Hair:10090,Pants:10091,Shoes:10092},EActionState={Walk:"walk",Run:"run",Idle:"idle",Attack:"attack",Hit:"hit",Die:"die",Dizzy:"dizzy"},EDirection={Right:"right",Left:"left",Up:"up",Down:"down"},ETimeCircle={Forever:"Forever",Fixed_Time:"Fixed_Time",Used_Forever:"Used_Forver",Used_Fixed_Time:"Used_Fixed_Time"},EAIState={Patrol:0,Pursue:1,Attack:2,Die:3},define("Framework/Config/_inc_.js",function(){}),GCfg={App_Name:(App_Name||"Game").toLowerCase()},define("Framework/Config/GCfg.js",function(){});var IWebSocketNode=cc.Node.extend("IWebSocketNode",{_websocket:null,_addr:"",ctor:function(e){this._super(),this._addr=e,this.init()},init:function(){this._websocket=new WebSocket(this._addr),this._websocket.onopen=this.onOpen.bind(this),this._websocket.onclose=this.onClose.bind(this),this._websocket.onerror=this.onError.bind(this),this._websocket.onmessage=this.onMessage.bind(this)},onOpen:function(e){cc.log("WebSocket onOpen")},onClose:function(e){cc.log("WebSocket onClose"),this._websocket=null,this.init()},onError:function(e){cc.log("WebSocket onError")},onMessage:function(e){if(!e||!e.data){cc.log("Error receive msg: none data!");return}var t=JSON.parse(e.data);if(!t.cmd||t.cmd==""){cc.log("Error receive msg no cmd:"+e.data);return}GHelper.dump(t);if(!t.isSuccess){cc.log(t.tip);return}this["receive_"+t.cmd]&&this["receive_"+t.cmd](t)},getNewMsg:function(e){var t={cmd:e};return t},send:function(e){if(!this._websocket)return;if(!e){console.log("Send Message warning:null data!");return}var t="";cc.isString(e)?t=e:t=JSON.stringify(e),this._websocket.send(t)}});define("Framework/Net/IWebSocketNode.js",function(){}),GAniTool={getArmature:function(e){return ccs.Armature.create(e)},cacheArmature:function(e){ccs.armatureDataManager.addArmatureFileInfo(e)},playArmature:function(e,t,n,r){cc.log("prepare to get armature name="+t);var i=e.getChildByTag(ETag.ArmatureRole);return i||(this.cacheArmature(t),i=this.getArmature(n),i&&e.addChild(i,0,ETag.ArmatureRole)),i?(r?i.getAnimation().playWithNames([r]):i.getAnimation().playWithIndex(0),i):(cc.log("===========error armature ["+n+"]"),null)},getSpriteFrameAnimationAction:function(e,t){if(!e)return null;var n=null;if(cc.isString(e)){n=GAnimationCfg[e];if(!n)return null}else n=e;var r=n.animations[t];if(!r)return null;var i=n.id+"_"+t,s=cc.animationCache.getAnimation(i);if(!s){s=new cc.Animation;var o=cc.textureCache.addImage("animation/"+n.id+".png"),u=n.width,a=n.height,f=0,l=r.row*a;for(var c=0;c<r.length;c++)f=c*u,s.addSpriteFrameWithTexture(o,new cc.rect(f,l,u,a));s.setDelayPerUnit(1/8),s.setRestoreOriginalFrame(!0),cc.animationCache.addAnimation(s,i)}return s?cc.animate(s):null}},define("Framework/Tool/GAniTool.js",function(){}),GAudioTool={playMusic:function(e,t){if(!e)return;cc.audioEngine.playMusic(e,t),cc.log("play----------"+e)}},define("Framework/Tool/GAudioTool.js",function(){}),GBattleMgr={_mapData:null,_current:-1,_heros:[],_monsters:[],_bosses:[],startBattle:function(e){this._current=-1,this._heros=[],this._monsters=[],this._bosses=[],this._mapData=e,this._triggers=[];var t=GTriggerMgr.addConditionTriggerEvent(EConditionType.Die,this.onDie.bind(this));this._triggers.push(t),this.gotoNextBattle()},gotoNextBattle:function(){return this._mapData?(this._current+=1,this._current<0?!1:this._current>=this._mapData.levels.length?!1:(GMapMgr.openMap(this._mapData.levels[this._current]),this._onMapInitDone(),!0)):(cc.log("----------error---------gotoNextBattle->mapData can not null!"),!1)},onDie:function(e){if(!e)return;for(var t=0,n=this._monsters.length;t<n;++t)if(this._monsters[t]===e){this._monsters.removeAt(t),this._monsters.length<=0&&this._bosses.length<=0&&this._onWin();return}for(var t=0,n=this._bosses.length;t<n;++t)if(this._bosses[t]===e){this._bosses.removeAt(t),this._monsters.length<=0&&this._bosses.length<=0&&this._onWin();return}for(var t=0,n=this._heros.length;t<n;++t)if(this._heros[t]===e){this._heros.removeAt(t),this._heros.length<=0&&this._onLose();return}},_onWin:function(){this.gotoNextBattle()||this._onBattleEnd(!0)},_onLose:function(){this._onBattleEnd(!1)},_onBattleEnd:function(e){e},addHero:function(e){this._heros.push(e)},createMonster:function(e){var t=new MonsterRole(new RoleDataModel(e.baseData,e.extraData));return this._monsters.push(t),t},createBoss:function(e){var t=new MonsterRole(new RoleDataModel(e.baseData,e.extraData));return this._bosses.push(t),t},_onMapInitDone:function(){if(this._heros.length<=0)return;for(var e=0,t=this._monsters.length;e<t;++e)for(var n=0,r=this._heros.length;n<r;++n)this._monsters[e].addTarget(this._heros[n]),this._heros[n].addTarget(this._monsters[e]);for(var e=0,t=this._bosses.length;e<t;++e)for(var n=0,r=this._heros.length;n<r;++n)this._bosses[e].addTarget(this._heros[n]),this._heros[n].addTarget(this._bosses[e])}},define("Framework/Tool/GBattleMgr.js",function(){}),GIconTool={getItemIconPath:function(e){var t;if(cc.isString(e))t=e;else{var n=GCfg.getItemById(e);if(!n)return"";t=n.IconName}return"Icon/Item/"+t+".png"},getHeroIconPath:function(e){var t;if(cc.isString(e))t=e;else{var n=GCfg.getHeroById(e);if(!n)return"";t=n.IconName}return"Icon/Hero/"+t+".png"},getOtherIconPath:function(e){return"Icon/Other/"+e+".png"},getItemIconTexture:function(e){var t=cc.Sprite.create(this.getItemIconPath(e));return t?t.getTexture():nil},getHeroIconTexture:function(e){var t=cc.Sprite.create(this.getHeroIconPath(e));return t?t.getTexture():nil},getOtherIconTexture:function(e){var t=cc.Sprite.create(this.getOtherIconPath(e));return t?t.getTexture():nil},getItemIconSprite:function(e){return cc.Sprite.create(this.getItemIconPath(e))},getHeroIconSprite:function(e){return cc.Sprite.create(this.getHeroIconPath(e))},getOtherIconSprite:function(e){return cc.Sprite.create(this.getOtherIconPath(e))}},define("Framework/Tool/GIconTool.js",function(){}),GResMgr={init:function(){return this.initArmature()?(cc.log("success for ResourecManager init!"),!0):!1},initArmature:function(){return ccs.armatureDataManager.addArmatureFileInfo(GCfg.ArmatureFolder+"Hero/Hero.ExportJson"),cc.log("load "+GCfg.ArmatureFolder+"Hero/Hero.ExportJson!"),!0}},define("Framework/Tool/GResMgr.js",function(){});var RootLayer=cc.Layer.extend({ctor:function(){this._super()},onEnter:function(){this._super(),GCfg.init&&GCfg.init(),GMapMgr=new MapManager,this.addChild(GMapMgr),GPageMgr=new PageManager,this.addChild(GPageMgr),typeof GStart_Page!="undefined"?GPageMgr.openPage(GStart_Page):GPageMgr.openPage("Page_Start")},onExit:function(){this._super(),cc.log("RootLayer has exit!")}});define("Framework/View/Layer/RootLayer.js",function(){});var BaseMap=cc.Layer.extend({ctor:function(e,t){this._super(),this._hero=null,this._name=e.name,this._bgm=e.bgm,this._bornPos=e.bornPos,this._triggers=e.triggers,this._npcs=[];for(var n in GNpcCfg){var r=GNpcCfg[n];!cc.isUndefined(r.pos)&&!cc.isUndefined(r.pos.map)&&r.pos.map===this._name&&this._npcs.push(r)}},onEnter:function(){this._super(),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:this.onTouchBegan.bind(this)},this),this.scheduleUpdate(),GTriggerMgr.initRegionTrigger(this._hero,this._triggers,this),GAudioTool.playMusic(this._bgm,!0)},onExit:function(){GTriggerMgr.clearRegionTrigger(),this._super()},onTouchBegan:function(e,t){return!0},update:function(e){GTriggerMgr.check()},onTriggerIn:function(e,t){if(!t.to)return;if(cc.isObject(t.to)){GMapMgr.openMap(t.to,t.from);return}if(cc.isString(t.to)){GMapMgr.closeMap();var n={};typeof t.params!="undefined"&&(n=GHelper.clone(t.params)),GPageMgr.openPage(t.to,n);return}}});define("Framework/View/Map/BaseMap.js",function(){});var MapManager=cc.Node.extend({_curMap:null,ctor:function(){this._super()},getCurMap:function(){return this._curMap},openMap:function(mapData,from){return this._curMap&&this.closeMap(),this._curMap=eval("new "+mapData.maptype+"(mapData, from);"),this.addChild(this._curMap),!0},closeMap:function(){return this._curMap?(this._curMap.removeFromParent(),this._curMap=null,!0):(cc.log("closeMap failed!CurMap==nil"),!1)}});GMapMgr=null,define("Framework/View/Map/MapManager.js",function(){});var BasePage=cc.Layer.extend("BasePage",{ctor:function(){this._super(),cc.log(this.__classname+" ctor.......................")},_addTouchEvent:function(e,t,n,r){var i=null;cc.isObject(e)?i=e:i=this._getWidget(e);if(!i)return;return n!=null&&i.setTouchEnabled(n),r=r||ccui.Widget.TOUCH_ENDED,i&&i.addTouchEventListener(function(e,n){r==-1?t(e,n):n==r&&t(e,n)},null),i},_getWidget:function(e,t){if(!this._widget)return null;if(t){var n=[];return this._widget.enumerateChildren(e,function(e){n.push(e)}),n}if(cc.isString(e)){var r=e.indexOf("/");if(r>0){var n=[];return this._widget.enumerateChildren(e,function(e){n.push(e)}),n[0]}return this._widget.getChildByName(e)}return this._widget.getChildByTag(e)},refresh:function(e){},onOpen:function(e){cc.log(this.__classname+" has entered!");var t="Page/layout/"+this.__classname+".json",n=ccs.load(t);if(!n){cc.log(t+" loaded failed!");return}this._widget=n.node;if(!this._widget){cc.log(t+" loaded failed!");return}this.addChild(this._widget),cc.log(t+" loaded success!")},onClose:function(e){cc.log(this.__classname+" has exited!")},onShow:function(e){cc.log(this.__classname+" on show!")},onHide:function(e){cc.log(this.__classname+" on hide!")}});define("Framework/View/Page/BasePage.js",function(){});var PageManager=cc.Node.extend({_tempZ:0,_pages:{},ctor:function(){this._super(),this._tempZ=0,this._pages={}},openPage:function(pageName,params){++this._tempZ;var page=this._pages[pageName];if(page)return page.setLocalZOrder(this._tempZ),page;cc.log("new "+pageName+"()......................!");var page=eval("new "+pageName+"();");return this.addChild(page,this._tempZ),this._pages[pageName]=page,page.onOpen(params),page},closePage:function(e,t){var n=this._pages[e];return n?(this._pages[e]=null,n.onClose(t),n.removeFromParent(),!0):!1},refreshPage:function(e,t){var n=this._pages[e];if(!n)return!1;refresh(t)},showPage:function(e,t){var n=this._pages[e];if(!n||n.isVisible())return!1;setVisible(!0),onShow(t)},hidePage:function(e,t){var n=this._pages[e];if(!n||!n.isVisible())return!1;n.setVisible(!1),n.onHide(t)},isPageOpened:function(e){var t=this._pages[e];return t?!0:!1},getPage:function(e){return this._pages[e]},onExit:function(){this._super(),cc.log("PageManager has exit!")}});GPageMgr=null,define("Framework/View/Page/PageManager.js",function(){}),_GMax_Local_Z_Order=1e4;var BaseRole=cc.Node.extend("BaseRole",{_actionState:EActionState.Idle,faceDirection:EDirection.Right,_roleDM:null,_ai:null,_triggers:[],ctor:function(e){return this._super(),this._triggers=[],this._actionState=EActionState.Idle,this.faceDirection=EDirection.Right,this._ai=null,this._roleDM=e,!0},getCode:function(){return this._roleDM.code},init:function(){this._updateAnimation()},onEnter:function(){this._super(),this.scheduleUpdate(),this.init();var e=this.getPosition();this.setLocalZOrder(_GMax_Local_Z_Order-e.y),this._triggers=[]},onExit:function(){this._super();for(var e=0,t=this._triggers.length;e<t;++e)GTriggerMgr.removeConditionTriggerEvent(this._triggers[e].type,this._triggers[e].code);this._triggers=[]},update:function(e){if(!this._prePos){this._prePos=this.getPosition();return}var t=this.getPosition();if(Math.abs(this._prePos.y-t.y)<10)return;this.setLocalZOrder(_GMax_Local_Z_Order-t.y),this._prePos=t},changeDirection:function(e){return e==this._faceDirection?!1:(this._faceDirection=e,this._faceDirection==EDirection.Right?this.setScaleX(1):this.setScaleX(-1),!0)},changeActionState:function(e){return e==this._actionState?!1:(this._actionState=e,this._updateAnimation(),!0)},_getActionName:function(){return this._actionState},_updateAnimation:function(e,t){return cc.isUndefined(t)&&(t=!0),cc.isUndefined(e)&&(e=this._actionState),this._showAnimation(e,t),!0},_convertToLegalPos:function(e){var t=GMapMgr.getCurMap();return e.x=e.x<t.minX?t.minX:e.x,e.x=e.x>t.maxX?t.maxX:e.x,e.y=e.y<t.minY?t.minY:e.y,e.y=e.y>t.maxY?t.maxY:e.y,e},moveTo:function(e,t){var n=this.getPosition();if(cc.pFuzzyEqual(n,e,10)){t&&(cc.log("-----------------"+this._roleDM.baseData.nickname),t());return}var r=!0;n.x<e.x?r=this.changeDirection(EDirection.Right):r=this.changeDirection(EDirection.Left),this.stopAllActions();if(this._actionState!=EActionState.Walk||this._actionState!=EActionState.Run)this._actionState=EActionState.Walk,this._updateAnimation();var i=cc.moveTo(cc.pDistance(e,n)/this._roleDM.getMoveSpeed(),e),s=cc.CallFunc(this.stop.bind(this));t?this.runAction(new cc.Sequence(i,s,cc.CallFunc(t))):this.runAction(new cc.Sequence(i,s))},stop:function(){this._actionState=EActionState.Idle,this._updateAnimation()},addTarget:function(e){if(!e||!this._ai)return;this._ai.addTarget(e)},behaviorAnimation:function(e,t,n){this.stopAllActions()},behaviorWalkAny:function(){var e=this.getPosition(),t=GHelper.random(50,500),n=GHelper.random(0,360),r=cc.p(t,0);r=this._convertToLegalPos(cc.pRotateByAngle(r,e,n)),this.moveTo(r,this.behaviorWalkAny.bind(this))},behaviorPersue:function(e){if(!e)return;var t=this.getPosition(),n=this._convertToLegalPos(e.getPosition());if(cc.pFuzzyEqual(t,n,20))return;this.moveTo(n,this.behaviorPersue.bind(this,e))},behaviorDie:function(){},_showAnimation:function(e,t,n){},behaviorAnimation:function(e,t,n){this._showAnimation(e,t,n)},doSkill:function(e){var t=this;this._showAnimation(e,!1,function(){t._ai.goto("idle")});var n=this._roleDM.baseData.skills[e];if(!n)return;var r=this.getPosition();r.width=n.range.width,r.height=n.range.height;var i=this._ai.getTargets();for(var s=0,o=i.length;s<o;++s){var u=i[s].getPosition();u.x>r.x&&u.x<r.x+r.width&&u.y>r.y-r.height/2&&u.y<r.y+r.height/2&&i[s].onHit(this._roleDM)}},onHit:function(e){cc.log(this._roleDM.getNickName()+"  on hit!");var t=GGameTool.getDamage(e,this._roleDM,"attack");this._roleDM.addHP(-t);if(!this._ai)return;this._ai.goto("hit")}});define("Framework/View/Role/BaseRole.js",function(){}),GRoleMgr={_bossRole:[],_enemyRole:[],_hero:null,init:function(){return this._bossRole={},this._enemyRole={},this._hero=null,!0},createRole:function(e){return HeroRole?(this._hero=new HeroRole(e),this._hero):null}},define("Framework/View/Role/RoleManager.js",function(){});var GameScene=cc.Scene.extend({ctor:function(){this._super(),this.setAnchorPoint(cc.p(.5,.5))},onEnter:function(){this._super(),GTriggerMgr.init(),cc.sys.isNative&&jsb.fileUtils.addSearchPath("res/"+GCfg.App_Name+"/"),this.addChild(new RootLayer)},onExit:function(){this._super()}});define("Framework/View/Scene/GameScene.js",function(){}),EMapType={DnfMap:"DnfMap",TileMap:"TileMap",CardDnfMap:"CardDnfMap"},define("Framework/Plug-in/_inc_.js",function(){}),EAIState={Idle:"Idle",Patrol:"Patrol",Persue:"Persue",Attack:"Attack",Die:"Die"};var BaseAI=cc.Class.extend("BaseAI",{_state:EAIState.Idle,_centerPos:{x:0,y:0},_patrolLength:0,_persueLength:0,_obj:null,_targetObjs:[],_triggers:[],ctor:function(e,t){this._super(),this._state=EAIState.Idle,this._obj=e,cc.isArray(t)?this._targetObjs=t:t?this._targetObjs[0]=t:this._targetObjs=[],this._centerPos=this._obj.getPosition(),this._triggers=[];var n=GTriggerMgr.addConditionTriggerEvent(EConditionType.Die,this.onDie.bind(this));this._triggers.push({type:EConditionType.Die,code:n})},start:function(){this._changeState(EAIState.Idle)},end:function(){for(var e=0,t=this._triggers.length;e<t;++e)GTriggerMgr.removeConditionTriggerEvent(this._triggers[e].type,this._triggers[e].code);this._triggers=[]},_changeState:function(e){this._state=e,this["_do"+this._state]()},_doIdle:function(){this._changeState(EAIState.Patrol)},_doPatrol:function(){},_doPersue:function(){},_doAttack:function(){},_doDie:function(){},onDie:function(e){if(!e)return;if(e===this._obj){this.end();return}for(var t=0,n=this._targetObjs.length;t<n;++t)if(this._targetObjs[t]===e){this._targetObjs.removeAt(t);return}return},_getNearestTarget:function(){var e=this._targetObjs.length;if(e<=0)return null;if(e==1)return this._targetObjs[0];var t=this._obj.getPosition(),n=0,r=cc.pDistance(t,this._targetObjs[0].getPosition());for(var i=1;i<e;++i){var s=cc.pDistance(t,this._targetObjs[i].getPosition());r<s&&(r=ids,n=i)}return{target:this._targetObjs[n],distance:r}},addTarget:function(e){if(!e)return;this._targetObjs.push(e)}});define("Framework/Plug-in/AI/BaseAI.js",function(){}),define("Framework/Plug-in/AI/EasyBossAI.js",function(){}),define("Framework/Plug-in/AI/EasyHeroAI.js",function(){});var EasyMonsterAI=BaseAI.extend("EasyMonsterAI",{ctor:function(e,t){this._super(e,t)},_doPatrol:function(){var e=this._getNearestTarget();!e||e.length>this._persueLength||this._changeState(EAIState.Persue)},_doPersue:function(){},_doAttack:function(){},_doDie:function(){}});define("Framework/Plug-in/AI/EasyMonsterAI.js",function(){});var Buff=cc.Class.extend("Buff",{_buffType:"",_timeCircle:"",_info:"",ctor:function(e){if(!e)return;this._buffType=e.Type,this._timeCircle=e.TimeCircle,this._info=e.Info}});define("Framework/Plug-in/Buff/Buff.js",function(){});var DnfMap=BaseMap.extend({ctor:function(e,t){this._super(e),this._mapLayer=null,this._path=e.path,this._width=0,this.minY=e.minY,this.maxY=e.maxY,this.minX=e.minX,this.maxX=e.maxX,this._leftBornPos=e.leftBornPos,this._rightBornPos=e.rightBornPos,this._npcs=e.npcs||[],this._monsters=e.monsters||[],this._bosses=e.bosses||[],this._from=t,this._node_npc=null,this._node_dynamic=null},onEnter:function(){this._super(),this._mapLayer=ccs.load(this._path).node;if(!this._mapLayer){cc.log(this._path+" loaded failed!");return}this._width=this._mapLayer.getContentSize().width,this.addChild(this._mapLayer),this._node_npc=this._mapLayer.getChildByName("node_npc"),this._node_dynamic=this._mapLayer.getChildByName("node_dynamic");for(var e=0;e<this._npcs.length;++e)this._node_npc.addChild(new NpcRole(this._npcs[e]));this._hero=GRoleMgr.createRole(GPlayerDataModel.getDefaultRoleDataModel()),this._from?this._from=="left"?this._hero.setPosition(this._rightBornPos):this._from=="right"&&this._hero.setPosition(this._leftBornPos):this._hero.setPosition(this._bornPos),this._node_dynamic.addChild(this._hero),GBattleMgr.addHero(this._hero),cc.log("prepare to create monsters total="+this._monsters.length);for(var e=0,t=this._monsters.length;e<t;++e)this._node_dynamic.addChild(GBattleMgr.createMonster(this._monsters[e]));for(var e=0,t=this._bosses.length;e<t;++e)this._node_dynamic.addChild(GBattleMgr.createBoss(this._bosses[e]))},onTouchBegan:function(e,t){var n=t.getCurrentTarget(),r=n.convertToNodeSpace(e.getLocation());return this._hero&&(r.y<this.minY&&(r.y=this.minY),r.y>this.maxY&&(r.y=this.maxY),this._hero.moveTo(r)),this._super(e,t)},update:function(e){if(!this._hero)return;var t=this._hero.getPosition(),n=0;t.x<cc.winSize.width/2?n=0:this._width-t.x<cc.winSize.width/2?n=-(this._width-cc.winSize.width):n=-(t.x-cc.winSize.width/2),this.setPositionX(n),GTriggerMgr.check(),this._super(e)}});define("Framework/Plug-in/Map/DnfMap.js",function(){});var TileMap=BaseMap.extend({_data_map:null,_tmxmap:null,_mapSize:cc.p(0,0),_tileSize:cc.p(0,0),ctor:function(e){this._super(e)},onEnter:function(){this._tmxmap=new cc.TMXTiledMap(this._data_map.path),this.addChild(this._tmxmap),this._hero=new Role(new RoleDataModel),this._hero.setScale(2),this.addChild(this._hero,1e3,10086),this._mapSize=this._tmxmap.getMapSize(),this._tileSize=this._tmxmap.getTileSize(),this.setContentSize(this._mapSize.width*this._tileSize.width,this._mapSize.height*this._tileSize.height),this._mapData=[];for(var e=0;e<this._mapSize.height;++e){this._mapData[e]=[];for(var t=0;t<this._mapSize.width;++t)this._mapData[e][t]=1}this._initNpc(),this._super()},_initNpc:function(){if(this._data_map.npc.length<=0)return!0;for(var e=0;e<this._data_map.npc.length;++e){var t=new NpcRole(this._data_map.npc[e]);this._npc.push(t),this.addChild(t,1e3,1008611+e)}},onTouchBegan:function(e,t){this._super(e,t);if(!this._hero)return;var n=this.convertToNodeSpace(t.getLocation()),r=this._hero.getPosition(),i=Math.floor(n.x/this._tileSize.width),s=Math.floor(n.y/this._tileSize.height),o=Math.floor(r.x/this._tileSize.width),u=Math.floor(r.y/this._tileSize.height),a=GAStar.getRoutes(cc.p(o,u),cc.p(i,s),this._mapData,this._mapSize.width,this._mapSize.height);for(var f=0;f<a.length;++f)a[f].x=a[f].x*this._tileSize.width+this._tileSize.width/2,a[f].y=a[f].y*this._tileSize.height+this._tileSize.height/2;this._hero.moveTo(a)},update:function(e){if(!this._hero)return;var t=this._hero.getPosition(),n=this.getPosition();n.x=cc.winSize.width/2-t.x,n.y=cc.winSize.height/2-t.y;var r=this._tmxmap.getMapSize(),i=this._tmxmap.getTileSize(),s=cc.winSize.width-r.width*i.width,o=cc.winSize.height-r.height*i.height;n.x=n.x>0?0:n.x,n.x=n.x<s?s:n.x,n.y=n.y>0?0:n.y,n.y=n.y<o?o:n.y,this.setPosition(n),this._super(e)}});define("Framework/Plug-in/Map/TileMap.js",function(){});var BaseSkill=cc.Class.extend("BaseSkill",{ctor:function(){return this._attackRange=0,this._damageRange=0,this._coolTime=0,this._singTime=0,this._vecBuff=[],!0},beginSkill:function(e){return!0},endSkill:function(e){return!0}});define("Framework/Plug-in/Skill/BaseSkill.js",function(){});var BasicSkill=BaseSkill.extend("BasicSkill",{ctor:function(){return this._super(),!0}});define("Framework/Plug-in/Skill/BasicSkill.js",function(){}),GSkillMgr={getNewSkill:function(skillId){var skillDataItem=GCfg.getBuffById(skillId);if(skillDataItem)return null;var skill=eval(skillDataItem.Type);return new skill(skillDataItem)}},define("Framework/Plug-in/Skill/SkillManager.js",function(){}),GTaskMgr={},define("Framework/Plug-in/Task/GTaskMgr.js",function(){});var IGame=cc.Class.extend("IGame",{ctor:function(){!cc.sys.isNative&&document.getElementById("cocosLoading")&&document.body.removeChild(document.getElementById("cocosLoading")),cc.view.enableRetina(!1),cc.view.adjustViewPort(!0),cc.loader.resPath="res",typeof g_resources=="undefined"?cc.director.runScene(new GameScene):cc.LoaderScene.preload(g_resources,function(){cc.director.runScene(new GameScene)},this)}}),Game=IGame.extend("Game",{ctor:function(){this._super()}});define("Framework/IGame.js",function(){});var g_resources=["Default/CheckBoxNode_Disable.png","Default/CheckBox_Disable.png","fonts/agency_font30_outLine.fnt","fonts/agency_font30_outLine.png","fonts/font20_outLine.fnt","fonts/font20_outLine.png","image/avatar/1.png","image/card/010.png","image/card/011.png","image/card/012.png","image/card/013.png","image/card/014.png","image/card/02.png","image/card/03.png","image/card/04.png","image/card/05.png","image/card/06.png","image/card/07.png","image/card/08.png","image/card/09.png","image/card/1001.png","image/card/1002.png","image/card/1003.png","image/card/1004.png","image/card/1005.png","image/card/110.png","image/card/111.png","image/card/112.png","image/card/113.png","image/card/114.png","image/card/12.png","image/card/13.png","image/card/14.png","image/card/15.png","image/card/16.png","image/card/17.png","image/card/18.png","image/card/19.png","image/card/210.png","image/card/211.png","image/card/212.png","image/card/213.png","image/card/214.png","image/card/22.png","image/card/23.png","image/card/24.png","image/card/25.png","image/card/26.png","image/card/27.png","image/card/28.png","image/card/29.png","image/card/310.png","image/card/311.png","image/card/312.png","image/card/313.png","image/card/314.png","image/card/32.png","image/card/33.png","image/card/34.png","image/card/35.png","image/card/36.png","image/card/37.png","image/card/38.png","image/card/39.png","image/card/back.png","image/card/frame.png","image/card/logo.png","image/nums/10_0.png","image/nums/10_1.png","image/nums/10_2.png","image/nums/10_3.png","image/nums/10_4.png","image/nums/10_5.png","image/nums/10_6.png","image/nums/10_7.png","image/nums/10_8.png","image/nums/10_9.png","image/nums/11_0.png","image/nums/11_1.png","image/nums/11_2.png","image/nums/11_3.png","image/nums/11_4.png","image/nums/11_5.png","image/nums/11_6.png","image/nums/11_7.png","image/nums/11_8.png","image/nums/11_9.png","image/nums/11_K.png","image/nums/11_M.png","image/nums/11__.png","image/nums/1_+.png","image/nums/1_-.png","image/nums/1_0.png","image/nums/1_1.png","image/nums/1_2.png","image/nums/1_3.png","image/nums/1_4.png","image/nums/1_5.png","image/nums/1_6.png","image/nums/1_7.png","image/nums/1_8.png","image/nums/1_9.png","image/nums/2_+.png","image/nums/2_-.png","image/nums/2_0.png","image/nums/2_1.png","image/nums/2_2.png","image/nums/2_3.png","image/nums/2_4.png","image/nums/2_5.png","image/nums/2_6.png","image/nums/2_7.png","image/nums/2_8.png","image/nums/2_9.png","image/nums/3_0.png","image/nums/3_1.png","image/nums/3_2.png","image/nums/3_3.png","image/nums/3_4.png","image/nums/3_5.png","image/nums/3_6.png","image/nums/3_7.png","image/nums/3_8.png","image/nums/3_9.png","image/nums/4_..png","image/nums/4_0.png","image/nums/4_1.png","image/nums/4_2.png","image/nums/4_3.png","image/nums/4_4.png","image/nums/4_5.png","image/nums/4_6.png","image/nums/4_7.png","image/nums/4_8.png","image/nums/4_9.png","image/nums/4_K.png","image/nums/4_M.png","image/nums/4_X.png","image/nums/5_0.png","image/nums/5_1.png","image/nums/5_2.png","image/nums/5_3.png","image/nums/5_4.png","image/nums/5_5.png","image/nums/5_6.png","image/nums/5_7.png","image/nums/5_8.png","image/nums/5_9.png","image/nums/6_0.png","image/nums/6_1.png","image/nums/6_2.png","image/nums/6_3.png","image/nums/6_4.png","image/nums/6_5.png","image/nums/6_6.png","image/nums/6_7.png","image/nums/6_8.png","image/nums/6_9.png","image/nums/7_0.png","image/nums/7_1.png","image/nums/7_2.png","image/nums/7_3.png","image/nums/7_4.png","image/nums/7_5.png","image/nums/7_6.png","image/nums/7_7.png","image/nums/7_8.png","image/nums/7_9.png","image/nums/7_a.png","image/nums/7_K.png","image/nums/7_M.png","image/nums/8_+.png","image/nums/8_-.png","image/nums/8_0.png","image/nums/8_1.png","image/nums/8_2.png","image/nums/8_3.png","image/nums/8_4.png","image/nums/8_5.png","image/nums/8_6.png","image/nums/8_7.png","image/nums/8_8.png","image/nums/8_9.png","image/nums/8_K.png","image/nums/8_M.png","image/nums/9_+.png","image/nums/9_-.png","image/nums/9_0.png","image/nums/9_1.png","image/nums/9_2.png","image/nums/9_3.png","image/nums/9_4.png","image/nums/9_5.png","image/nums/9_6.png","image/nums/9_7.png","image/nums/9_8.png","image/nums/9_9.png","image/room/1.png","image/room/10.png","image/room/2.png","image/room/3.png","image/room/4.png","image/room/5.png","image/room/6.png","image/room/7.png","image/room/8.png","image/room/9.png","image/room/all_in.png","image/room/avatar_shadow.png","image/room/back.png","image/room/bet.png","image/room/bg.png","image/room/bg_light.png","image/room/btn.png","image/room/btn_friend_begin.png","image/room/card_type_bg.png","image/room/check.png","image/room/class_1.png","image/room/class_2.png","image/room/class_3.png","image/room/class_4.png","image/room/class_5.png","image/room/class_6.png","image/room/class_7.png","image/room/class_8.png","image/room/class_9.png","image/room/default_avatar_shadow.png","image/room/follow.png","image/room/followBg.png","image/room/follwBg.png","image/room/giveup.png","image/room/light.png","image/room/light2.png","image/room/more.png","image/room/thinking.png","image/room/time.png","image/room/tip_chip.png","image/room/tip_show_card.png","image/room/total_bg.png","image/room/tuoguanzhong.png","image/room/wait.png","image/room/whos_turn.png","image/room/win_bg.png","Page/layout/Page_Room.json","Page/res/room/btn_back1.png","Page/res/room/btn_back2.png","Page/res/room/btn_Buy1.png","Page/res/room/btn_Buy2.png","Page/res/room/btn_cardType1.png","Page/res/room/btn_cardType2.png","Page/res/room/btn_invite1.png","Page/res/room/table1.png","Page/res/room/table2.png","Page/res/room/top_bar_bg.png","animation/paizhuoshengli/paizhuoshengli.json","animation/paizhuoshengli/paizhuoshengli0.plist","animation/paizhuoshengli/paizhuoshengli0.png"];define("resource.js",function(){}),GPage_Room=null,GRoomSeats=[];var Page_Room=BasePage.extend("Page_Room",{_node_roles:[],_role_views:{},_btn_Seats:[],ctor:function(){this._super(),GPage_Room=this,this.rid=this.getQueryString("rid")},onOpen:function(e){this._super(),this._dy_node=this._getWidget("topNode/dy_node"),this._node_roles=this._getWidget("node_roles");for(var t=0;t<9;++t)this._btn_Seats.push(this._getWidget("node_seat/btn_Seat"+(t+1))),this._btn_Seats[t].setVisible(!1),this._btn_Seats[t].seat_index=t,GRoomSeats.push(this._btn_Seats[t].getPosition());this._totalChip=new cc.Node,this.addChild(this._totalChip,1e4),this._totalChip.setPosition(568,400),this._randomHeap=new RandomHeapView(0),this._randomHeap.setPositionY(34),this._totalChip.addChild(this._randomHeap,1),this._total_chip=0,GServerMonitor.init()},beginGame:function(e){this.creatRoles(e.gameinfo.seats,e.gameinfo.tableplayerinfos)},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n!=null?unescape(n[2]):null},creatRoles:function(e,t){var n=this;n.offset_seat=0,core.foreach(e,function(e,t){if(t.rid==0)return;t.rid==n.rid&&(n.offset_seat=5-t.seat_index)}),core.foreach(e,function(e,r){if(r.rid==0)return;r.showIndex=r.seat_index+n.offset_seat,r.showIndex>9&&(r.showIndex=r.showIndex-9),r.showIndex<1&&(r.showIndex=r.showIndex+9);var i=new RoleView(r,t[r.rid]);n._node_roles.addChild(i);var s=n.offset_seat+r.seat_index;i.setPosition(GRoomSeats[r.showIndex-1]),n._role_views[r.seat_index]=i,i._rid==n.rid&&(n._self_role_view=i)}),n.onPreChip(e)},refreshTotalChip:function(){var e=this.createNumNode(this._total_chip,7,4);this._allChipView=e[0];var t=e[1];this._totalChip.addChild(this._allChipView,1e6),this._allChipView.setPosition(cc.p(-t/2,69))},createNumNode:function(e,t,n,r){t=t||0,r=r||0;if(t==8||t==9)r=-3;if(t==7||t==11)r=-1.1;var i=""+e,s=i.length;n&&s<n&&(core.foreach(n-s,function(e){i="0"+i}),s=i.length);var o=new cc.Node;o.setAnchorPoint(cc.p(.5,.5));var u="image/nums/"+t+"_",a=0,f=0;return core.foreach(s,function(e){var t=i[e];t=="/"&&(t="X");var n=new cc.Sprite(u+t+".png");o.addChild(n),n.setAnchorPoint(cc.p(0,.5)),n.setPosition(cc.p(a,0));var s=n.getContentSize();a=s.width+a+2*r;var l=s.height;f<l&&(f=l)}),[o,a,f]},onPreChip:function(e){var t=this;core.foreach(e,function(e,n){var r=t._role_views[n.seat_index];if(!r||n.bet_chips<=0)return;t._total_chip+=n.bet_chips,r.doPreChip(n.bet_chips,n.chips);var i=new AnimationChipView;i.goto_center(r,t._randomHeap,1),t.addChild(i)}),this.refreshTotalChip()},onBlindChip:function(e){var t=this;core.foreach(e,function(e,n){var r=t._role_views[n.seat_index];if(!r)return;t._total_chip+=n.bet_chips,r.doBlind(n.bet_chips,n.chips)}),this.refreshTotalChip()},onHoleCard:function(e){this._self_role_view.showHoleCards(e),this.dealCards()},onLightCard:function(e){var t=this._role_views;core.foreach(t,function(t,n){e[t]&&n.forceShowHoleCards(e[t])})},_dealCards:function(e,t,n){var r=new cc.Sprite("image/room/back.png");this._deal_cards.addChild(r),r.setVisible(!1),r.setScale(.8);var i=this.offset_seat+e;i>9&&(i-=9),i<1&&(i+=9);var s=cc.p(GRoomSeats[i-1].x,GRoomSeats[i-1].y),o=cc.sequence(cc.delayTime(n),cc.show(),cc.spawn(cc.moveTo(.4,s).easing(cc.easeExponentialOut()),cc.rotateBy(.3,360)),cc.hide(),cc.callFunc(function(){t.addOneCard(),r.removeFromParent()}));r.setPosition(cc.p(568,424)),r.runAction(o)},dealCards:function(){var e=this;this._deal_cards||(this._deal_cards=new cc.Node,this._dy_node.addChild(this._deal_cards,1e6)),this._deal_cards.removeAllChildren();var t=1;for(var n=0;n<2;++n)for(var r=1;r<=9;++r){var i=this._role_views[r];if(!i)continue;this._dealCards(r,i,(t-1)*.15),t+=1}},doAction:function(e){var t=this._role_views[e.seat_index];if(!t)return;t.onDoBegin(e.timeout)},OnDoAction:function(e){this._total_chip+=e.action_num;var t=this._role_views[e.seat_index];if(!t)return;switch(e.action_type){case 1:t.doBet(e.bet_chips,e.chips);break;case 2:t.doFollow(e.bet_chips,e.chips);break;case 3:t.doCheck();break;case 4:t.doGiveUP();break;case 5:t.doRaise(e.bet_chips,e.chips);break;case 6:t.doAllIn(e.bet_chips)}this.refreshTotalChip()},onRoundEnd:function(e){var t=this;core.foreach(this._role_views,function(e,n){if(!n)return;if(n._round_chip<=0){n.onRoundEnd();return}var r=new AnimationChipView;r.goto_center(n,t._randomHeap,0),t.addChild(r)}),t._total_chip=0,core.foreach(e,function(e,n){t._total_chip+=n}),this.refreshTotalChip()},addFlopCards:function(e){this._cards=[];var t=this;core.foreach(e,function(e,n){t._cards.push(n);var r=new CardView(n);t._dy_node.addChild(r,1e3),r.setPosition(cc.p(380+(e+1)*70,300)),r.doTurn(e*.15+1)})},addTurnCard:function(e){this._cards.push(e);var t=4,n=new CardView(e);this._dy_node.addChild(n,1e3),n.setPosition(cc.p(380+t*70,300)),n.doTurn(t*.15+1)},addRiverCard:function(e){this._cards.push(e);var t=5,n=new CardView(e);this._dy_node.addChild(n,1e3),n.setPosition(cc.p(380+t*70,300)),n.doTurn(t*.15)},getCards:function(){return this._cards},onGameEnd:function(e){var t=this,n=t._self_role_view.getCards();core.foreach(t._role_views,function(t,n){if(!n.isGiveUp()&&!n.isStandUp()){var r=e.roles[t],i=null;r&&(i=r.hole_cards),n.doEnd(i)}});var r={},i=e.pots.length;for(var s=0;s<i;++s){var o=e.pots[s];core.foreach(o.seats,function(e,t){r[t]=r[t]||0,r[t]+=Math.floor(o.chip/i)})}var u=[];core.foreach(r,function(t,n){var r={};r.chip=n,r.seat_index=t,r.card_type=e.roles[t].card_type,r.card_result=e.roles[t].card_result,r.hole_cards=e.roles[t].hole_cards,u.push(r)}),u.sort(function(e,t){if(!e.chip||!t.chip)return!0;if(e.card_result[0]!=t.card_result[0])return e.card_result[0]>t.card_result[0];var n=1;while(e.card_result[n]&&t.card_result[n]&&e.card_result[n][1]==t.card_result[n][1])n+=1;return e.card_result[n]&&t.card_result[n]?e.card_result[n][1]>t.card_result[n][1]:!0});var a=null,f=0;core.foreach(u,function(e,n){f=e*2.5;if(t._role_views[n.seat_index]){var r,i=t._role_views[n.seat_index].getPosition(),s,o=t._totalChip.getPosition(),u=new AnimationChipView(n.chip,cc.p(r,i),f,t._role_views[n.seat_index],!0);t._dy_node.addChild(u),u.setPosition(cc.p(s,o)),a=t._role_views[n.seat_index]}})}});define("texas/View/Page/Page_Room.js",function(){}),GWin_Ani=null;var RoleView=cc.Node.extend("RoleView",{ctor:function(e,t){this._super(),this._seat_index=e.seat_index,this._sex=t.sex||1,this._name=t.rolename||"default",this._avatar=t.logo||"1",this._showIndex=e.showIndex||this._seat_index,this._rid=e.rid,this._chip=e.chips,this._is_auto=e.is_tuoguan,this._light=new cc.Sprite("image/room/light2.png"),this.addChild(this._light,-2),this._light.setOpacity(0),this.checkIsSelf()?this._light.setPosition(cc.p(0,90)):(this._light.setScale(.875),this._light.setPosition(cc.p(0,50))),this._winbg=new cc.Sprite("image/room/win_bg.png"),this.addChild(this._winbg,-1),this._winbg.setVisible(!1),this._bg_light=new cc.Sprite("image/room/bg_light.png"),this._bg_light.setVisible(!1),this.addChild(this._bg_light,-1);var n,r;this.checkIsSelf()?(n=cc.ScaleTo.create(1.5,1,1),r=cc.ScaleTo.create(1.5,.8,.8)):(n=cc.ScaleTo.create(1.5,.875,.875),r=cc.ScaleTo.create(1.5,.7,.7));var i=cc.Sequence.create(n,r),s=cc.RepeatForever.create(i);this._bg_light.runAction(s),this._avatar_shadow=new cc.Sprite("image/room/default_avatar_shadow.png"),this.addChild(this._avatar_shadow,0),this._sp_avatar=this.createAvatarSprite(),this.addChild(this._sp_avatar,1),this.checkIsSelf()||(this._title=new cc.LabelTTF(this._name,"",18),this.addChild(this._title,100),this._title.setAnchorPoint(cc.p(.5,.5)),this._title.setPosition(cc.p(0,50)),this._title.enableStroke(new cc.Color(0,0,0,153),1),this._spTitle=new cc.Sprite,this.addChild(this._spTitle,2),this._spTitle.setPosition(cc.p(0,45)),this._spTitle.setVisible(!1)),this._sp_chip_bg=new cc.Sprite("image/room/total_bg.png"),this.addChild(this._sp_chip_bg,1),this._lbl_chip=new cc.LabelTTF(GHelper.convertChipNumToStr(this._chip),"",22),this._lbl_chip.setFontFillColor(new cc.Color(21,29,32)),this.addChild(this._lbl_chip,2),this._lbl_chip.setAnchorPoint(cc.p(0,.5)),this.checkIsSelf()?(this._sp_chip_bg.setPosition(cc.p(1,-53)),this._lbl_chip.setPosition(cc.p(-18,-53))):(this._sp_chip_bg.setPosition(cc.p(1,-50)),this._lbl_chip.setPosition(cc.p(-18,-50)));var o=new cc.Sprite("image/room/back.png"),u=new cc.Sprite("image/room/back.png");this._cardBacks=[o,u],o.setRotation(-7),u.setRotation(10),this._cardNode=new cc.Node,this.addChild(this._cardNode,5),this._cardNode.addChild(o,5),this._cardNode.addChild(u,6),o.setVisible(!1),u.setVisible(!1),this._chipNode=new ChipView(0),this.addChild(this._chipNode),this._autoDo=!1,this._isGiveUp=!1,this._isAllIn=!1,this._isSmallBlind=!1,this._isBigBlind=!1,this.setShowIndex(this._showIndex);if(this.checkIsSelf()){this._cardTypeNode=new cc.Node,this.addChild(this._cardTypeNode,20);var a=new cc.Sprite("image/room/card_type_bg.png");this._cardTypeNode.addChild(a,0);var f={};f.fontFilePath=f.fontSize=22,this._lbl_cardtype=new cc.LabelTTF("","",22),this._lbl_cardtype.enableStroke(new cc.Color(21,29,32),2),this._cardTypeNode.addChild(this._lbl_cardtype),this._cardTypeNode.setVisible(!1),this._cardTypeNode.setPosition(cc.p(-45,64))}else this._sp_avatar.setScale(.875),this._avatar_shadow.setScale(.875);this._is_auto&&this.onTuoguan(this._is_auto),this._round_chip=0},isStandUp:function(){return!1},isGiveUp:function(){return this._isGiveUp},checkIsSelf:function(){return this._rid==GPage_Room.rid},onTuoguan:function(){},setShowIndex:function(e){e=e||0,this._showIndex=e;if(this._cardBacks)if(this._showIndex==1||this._showIndex==2){if(this._cardBacks[0]){var t=cc.p(-74,-11);this._cardBacks[0].setPosition(t)}if(this._cardBacks[1]){var t=cc.p(-65,-11);this._cardBacks[1].setPosition(t)}this._chipNode.setPosition(cc.p(-12,-80))}else if(this._showIndex==3||this._showIndex==4){if(this._cardBacks[0]){var t=cc.p(-74,-11);this._cardBacks[0].setPosition(t)}if(this._cardBacks[1]){var t=cc.p(-65,-11);this._cardBacks[1].setPosition(t)}this._chipNode.setPosition(cc.p(-93,32))}else if(this._showIndex==5)if(this.checkIsSelf())this._cardBacks[0]&&(this._cardBacks[0].setRotation(-10),this._cardBacks[0].setPosition(cc.p(-50,89))),this._cardBacks[1]&&(this._cardBacks[1].setRotation(10),this._cardBacks[1].setPosition(cc.p(-5,84))),this._chipNode.setPosition(cc.p(63,140));else{if(this._cardBacks[0]){var t=cc.p(-74,-11);this._cardBacks[0].setPosition(t)}if(this._cardBacks[1]){var t=cc.p(-65,-11);this._cardBacks[1].setPosition(t)}this._chipNode.setPosition(cc.p(-93,32))}else if(this._showIndex==6||this._showIndex==7){if(this._cardBacks[0]){var t=cc.p(65,-11);this._cardBacks[0].setPosition(t)}if(this._cardBacks[1]){var t=cc.p(74,-11);this._cardBacks[1].setPosition(t)}this._chipNode.setPosition(cc.p(68,32))}else if(this._showIndex==8||this._showIndex==9){if(this._cardBacks[0]){var t=cc.p(65,-11);this._cardBacks[0].setPosition(t)}if(this._cardBacks[1]){var t=cc.p(74,-11);this._cardBacks[1].setPosition(t)}this._chipNode.setPosition(cc.p(-12,-80))}var n=[-134.78,-116.6,-85.18,-62.26,0,59.85,83.09,114.66,136.68],t=[cc.p(-20,-10),cc.p(-20,-15),cc.p(-20,5),cc.p(-10,10),cc.p(0,-10),cc.p(30,20),cc.p(25,0),cc.p(20,-15),cc.p(10,-10)];this._light.setRotation(n[this._showIndex-1]),this._light.setPosition(t[this._showIndex-1])},createAvatarSprite:function(){self=this;var e=self._avatar.length;return e<3?new cc.Sprite("image/avatar/"+self._avatar+".png"):new cc.Sprite("http://7xpkh2.com2.z0.glb.qiniucdn.com/"+self._avatar)},refreshRoundChip:function(e){this._round_chip=e,this._chipNode.refresh(this._round_chip)},getRoundChip:function(){return this._round_chip},getCards:function(){return this._cards},showHoleCards:function(e){if(e==null)return;this._cards=e,this.checkIsSelf()?(this._cardNode.removeFromParent(),this._cardNode=new cc.Node,this.addChild(this._cardNode,5),this._cardBacks[0]=new CardView(this._cards[0]),this._cardBacks[1]=new CardView(this._cards[1]),this._cardNode.addChild(this._cardBacks[0],5),this._cardNode.addChild(this._cardBacks[1],6),this._cardBacks[0].setRotation(-10),this._cardBacks[1].setRotation(10),this._cardBacks[0].setRotation(-10),this._cardBacks[0].setPosition(cc.p(-50,89)),this._cardBacks[1].setRotation(10),this._cardBacks[1].setPosition(cc.p(-5,84))):(this._cardBacks[0]&&this._cardBacks[0].removeFromParent(),this._cardBacks[1]&&this._cardBacks[1].removeFromParent(),this._cardBacks[0]=new cc.Sprite("image/room/back.png"),this._cardBacks[1]=new cc.Sprite("image/room/back.png"),this._cardBacks[0].setRotation(-7),this._cardBacks[1].setRotation(10),this._cardNode.addChild(this._cardBacks[0],5),this._cardNode.addChild(this._cardBacks[1],6)),this.setShowIndex(this._showIndex),this._cardBacks[0].setVisible(!1),this._cardBacks[1].setVisible(!1)},forceShowHoleCards:function(e){if(e==null)return;return self=this,self._cards=e,self._cardBacks[0]&&self._cardBacks[0].removeFromParent(),self._cardBacks[1]&&self._cardBacks[1].removeFromParent(),self._cardBacks[0]=new CardView(self._cards[0]),self._cardBacks[0].setScale(.8),self._cardBacks[1]=new CardView(self._cards[1]),self._cardBacks[1].setScale(.8),self._showIndex==1?(self._cardBacks[0].setPosition(cc.p(-95,-50)),self._cardBacks[1].setPosition(cc.p(-50,-50))):self._showIndex==9?(self._cardBacks[0].setPosition(cc.p(85,-50)),self._cardBacks[1].setPosition(cc.p(130,-50))):self._showIndex==3||self._showIndex==4?(self._cardBacks[0].setPosition(cc.p(-110,-50)),self._cardBacks[1].setPosition(cc.p(-65,-50))):self._showIndex==2||self._showIndex==8?(self._cardBacks[0].setPosition(cc.p(-5,-120)),self._cardBacks[1].setPosition(cc.p(40,-120))):self._showIndex==6||self._showIndex==7?(self._cardBacks[0].setPosition(cc.p(100,-50)),self._cardBacks[1].setPosition(cc.p(145,-50))):self._showIndex==5&&(self._cardBacks[0].setPosition(cc.p(-5,80)),self._cardBacks[1].setPosition(cc.p(40,80))),self._cardNode.addChild(self._cardBacks[0],5),self._cardNode.addChild(self._cardBacks[1],6),!0},doPreChip:function(e,t){this._chip=t,this._chipNode.refresh(e),this._lbl_chip.setString(t),this._round_chip=e},doBlind:function(e,t){this._chip=t,this._chipNode.refresh(e),this._lbl_chip.setString(t),this._round_chip+=e},addOneCard:function(){this._cardBacks.length<2&&!this.checkIsSelf();if(this._cardBacks.length<2)return;this._cardBacks[0].isVisible()?this._cardBacks[1].setVisible(!0):this._cardBacks[0].setVisible(!0)},onDoBegin:function(e){var t=this;this._avatar_shadow.setTexture("image/room/avatar_shadow.png"),this._bg_light.setVisible(!0);var n=15;this._cd&&(this._cd.removeFromParent(),this._cd=null),this._cd=new SpecialNumView,n=Math.floor(n),n<=99?n<=1?this._cd.init(0,2):this._cd.init(n-1,2):this._cd.init(99,2);var r=cc.sequence(cc.delayTime(1),cc.callFunc(function(){--n;if(n<=0){t._cd.stopAllActions();return}n<=99?t._cd.changeTo(n-1):t._cd.changeTo(99),n==7&&t.shake(),n<=1&&t._cd.stopAllActions()}));n<=7&&this.shake(),this.addChild(this._cd,10),this._cd.runAction(r.repeatForever()),this.checkIsSelf()?this._cd.setPosition(cc.p(20.5,-1)):(this._cd.setScale(.875),this._cd.setPosition(cc.p(17.5,-1))),this.checkIsSelf()||(this._title.setVisible(!0),this._spTitle.setVisible(!1)),this._light.stopAllActions(),this._light.runAction(cc.fadeTo(.3,255))},onDoEnd:function(){this.stopShake(),this._cd&&(this._cd.removeFromParent(),this._cd=null),this._light.runAction(cc.fadeTo(.3,0)),this._bg_light.setVisible(!1)},shake:function(){},stopShake:function(){},doBet:function(e,t){this.checkIsSelf()||(this._title.setVisible(!1),this._spTitle.setVisible(!0),this._spTitle.setTexture("image/room/bet.png")),this._chip=t,this._chipNode.refresh(e),this._lbl_chip.setString(t),this._round_chip=e,this.onDoEnd()},doFollow:function(e,t){this.checkIsSelf()||(this._title.setVisible(!1),this._spTitle.setVisible(!0),this._spTitle.setTexture("image/room/follow.png")),this._chip=t,this._chipNode.refresh(e),this._lbl_chip.setString(t),this._round_chip=e,this.onDoEnd()},doCheck:function(){this.checkIsSelf()||(this._title.setVisible(!1),this._spTitle.setVisible(!0),this._spTitle.setTexture("image/room/check.png")),this.onDoEnd()},doGiveUP:function(){this.checkIsSelf()||(this._title.setVisible(!1),this._spTitle.setVisible(!0),this._spTitle.setTexture("image/room/giveup.png")),this.onDoEnd()},doRaise:function(e,t){this.checkIsSelf()||(this._title.setVisible(!1),this._spTitle.setVisible(!0),this._spTitle.setTexture("image/room/more.png")),this._chip=t,this._chipNode.refresh(e),this._lbl_chip.setString(t),this._round_chip=e,this.onDoEnd()},doAllIn:function(e){this.checkIsSelf()||(this._title.setVisible(!1),this._spTitle.setVisible(!0),this._spTitle.setTexture("image/room/all_in.png")),this._chip=0,this._chipNode.refresh(e),this._lbl_chip.setString(0),this._round_chip=e,this.onDoEnd()},onRoundEnd:function(){this._chipNode.refresh(0),this._sp_title&&this._sp_title.setVisible(!1),this._lbl_title&&this._lbl_title.setVisible(!0)},doEnd:function(e){this.checkIsSelf()||(this._title.setString(this._name),this._title.setVisible(!0),this._spTitle.setVisible(!1)),this._chipNode.setVisible(!1),this.forceShowHoleCards(e),this._cd&&(this._cd.removeFromParent(),this._cd=null)},getCardEnd:function(){var e=[];core.foreach(this._cards,function(t,n){e.push(n)});if(e.length!=2)return[-1];var t=GPage_Room.getCards();return core.foreach(t,function(t,n){e.push(n)}),GCardTool.getCardEnd(e)},doWin:function(e){this._cd&&(this._cd.removeFromParent(),this._cd=null);if(!e||e<=0)return;if(this.isStandUp()==1)return;this._winchip=this._winchip||0,this._winchip=this._winchip+e,this._lbl_winchip||(this._lbl_winchip=new cc.LabelTTF(0,"",30),this._lbl_winchip.enableStroke(new cc.Color(0,0,0,153),1),this._lbl_winchip.setColor(new cc.Color(255,255,255)),this.addChild(this._lbl_winchip,1e9),this._lbl_winchip.setAnchorPoint(cc.p(.5,.5))),this._lbl_winchip.setPositionY(0),this._lbl_winchip.stopAllActions(),this._lbl_winchip.setString(e),this._showIndex==1||this._showIndex==9?this._lbl_winchip.runAction(cc.moveTo(1,cc.p(0,20))):this._lbl_winchip.runAction(cc.moveTo(1,cc.p(0,95))),this._lbl_chip.setString(GHelper.convertChipNumToStr(this._chip+this._winchip));var t=GPage_Room.getCards();GWin_Ani&&GWin_Ani.aaa&&removeFromParent(),GWin_Ani=null,ccs.armatureDataManager.addArmatureFileInfo("animation/paizhuoshengli/paizhuoshengli.json"),GWin_Ani=new ccs.Armature("paizhuoshengli");var n=-1,r=this.getCardEnd(t);r&&(n=r[0]),GWin_Ani.aaa=1;var i=GWin_Ani.getBone("end");n>0?i.addDisplay(new cc.Sprite("image/room/"+n+".png"),0):i.addDisplay(new cc.Sprite("image/alpha.png"),0),GWin_Ani.getAnimation().setFrameEventCallFunc(function(e,t,n,r){t=="end"&&GWin_Ani.getAnimation().play("xunhuan")}),GWin_Ani.getAnimation().play("ks"),this.addChild(GWin_Ani,99)}});define("texas/View/Role/RoleView.js",function(){});var ChipView=cc.Node.extend("ChipView",{ctor:function(e){this._super(),this._sp=new cc.Sprite("image/room/followBg.png"),this.addChild(this._sp),this._chip=e,this._text=new cc.LabelTTF(GHelper.convertChipNumToStr(e),"",24),this._text.setFontFillColor(new cc.Color(248,171,91)),this._text.setPositionY(1),this.addChild(this._text),this._offsetY=0,this._text.setPositionX(23),this._sp.setPositionX(15),this.refresh(this._chip)},getChipPos:function(){var e=-19,t=0,n=this.getPosition(),r=this._offsetY;return r>=3&&(r-=3),{x:n.x+e,y:n.y+t+r}},refresh:function(e){this._chip=e;if(this._chip<=0){this.setVisible(!1);return}this.setVisible(!0),this._text.setString(GHelper.convertChipNumToStr(this._chip))}});define("texas/View/Widget/ChipView.js",function(){});var AnimationChipView=cc.Node.extend("AnimationChipView",{ctor:function(e,t,n,r,i){this._super(),e&&this.goto_pos(e,t,n,r,i)},goto_pos:function(e,t,n,r,i){var s=this;if(!e||e<=0)return removeFromParent(),!1;i=i||!1,n=n||0;var o=cc.sequence(cc.delayTime(n),cc.callFunc(function(){s._do(e,t,r,i)}));return this.runAction(o),!0},_do:function(e,t,n,r){var i=this;this._refresh("",e,r);if(n){if(!n.doWin){this.removeFromParent();return}n.doWin(e)}if(!this._chips){this.removeFromParent();return}var s,o=this.getPosition();core.foreach(this._chips,function(e,n){var r=cc.sequence(cc.moveTo(e*.1,cc.pSub(t,cc.p(s,o))).easing(cc.easeExponentialOut()),cc.hide());n.runAction(r)});var u=cc.sequence(cc.delayTime(.7),cc.callFunc(function(){i.removeFromParent()}));this.runAction(u)},_refresh:function(e,t,n){var r=this;e=e||"",e="image/chip/"+e,n=n||!1,this.removeAllChildren(),this._chips=[];if(n==1){for(var i=1;i<=2;++i){var s=new cc.Sprite(e+"black.png");s.path=e+"black.png",this.addChild(s),this._chips.push(s)}for(var i=3;i<=4;++i){var s=new cc.Sprite(e+"orrange.png");s.path=e+"orrange.png",this.addChild(s),this._chips.push(s)}for(var i=5;i<=6;++i){var s=new cc.Sprite(e+"green.png");s.path=e+"green.png",this.addChild(s),this._chips.push(s)}return}if(t<10){var s=new cc.Sprite(e+"green.png");s.path=e+"green.png",this.addChild(s),this._chips.push(s)}var o=0,u=1,a=Math.floor(t/1e6);t%=1e6;for(var i=1;i<=a;++i){var s=new cc.Sprite(e+"orrange.png");s.path=e+"orrange.png",this.addChild(s),this._chips.push(s),setPositionY(o),o+=u;if(o>=u*5)return}var f=Math.floor(t/1e5);t%=1e5;for(var i=1;i<=f;++i){var s=new cc.Sprite(e+"purple.png");s.path=e+"purple.png",this.addChild(s),r._chips.push(s),s.setPositionY(o),o+=u;if(o>=u*5)return}var l=Math.floor(t/1e4);t%=1e4;for(var i=1;i<=l;++i){var s=new cc.Sprite(e+"black.png");s.path=e+"black.png",this.addChild(s),this._chips.push(s),s.setPositionY(o),o+=u;if(o>=u*5)return}var c=Math.floor(t/1e3);t%=1e3;for(var i=1;i<=c;++i){var s=new cc.Sprite(e+"blue.png");s.path=e+"blue.png",this.addChild(s),this._chips.push(s),s.setPositionY(o),o+=u;if(o>=u*5)return}var h=Math.floor(t/100);t%=100;for(var i=1;i<=h;++i){var s=new cc.Sprite(e+"red.png");s.path=e+"red.png",this.addChild(s),this._chips.push(s),s.setPositionY(o),o+=5;if(o>=u*5)return}var p=Math.floor(t/10);for(var i=1;i<=p;++i){var s=new cc.Sprite(e+"green.png");s.path=e+"green.png",this.addChild(s),this._chips.push(s),s.setPositionY(o),o+=u;if(o>=u*5)return}},goto_center:function(e,t,n){var r=this;if(!e||e.getRoundChip()<=0)return this.removeFromParent(),!1;var i=cc.pAdd(e._chipNode.getChipPos(),e.getPosition());this.setPosition(i);var s=e.getRoundChip();n=n||0;if(n>0){var o=cc.sequence(cc.delayTime(n),cc.callFunc(function(){e.refreshRoundChip(0),r._do_center(s,t)}));return this.runAction(o),!0}return e.refreshRoundChip(0),this._do_center(s,t)},_do_center:function(e,t){var n=this;this._refresh("big_",e);if(!n._chips||!e||!t)return n.removeFromParent(),!1;var r,i=this.getPosition();core.foreach(this._chips,function(e,r){var i=t.getRandomPos(),s=n.getPosition(),o=t.getParent().getPosition(),u=t.getPosition(),a=o.x+u.x-s.x+i[0],f=o.y+u.y-s.y+i[1];r.setScale(.58);var l=cc.sequence(cc.moveTo(1,cc.p(a,f)).easing(cc.easeExponentialOut()),cc.callFunc(function(){t.addRandomChipPath(r.path,i)}),cc.hide());r.runAction(l)});var s=cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){n.removeFromParent()}));return n.runAction(s),!0}});define("texas/View/Widget/AnimationChipView.js",function(){});var step=15;GRamdonPoints=[[0,0],[step,0],[step,step],[0,step],[-step,step],[-step,0],[-step,-step],[0,-step],[step,-step],[2*step,0],[2*step,step],[2*step,2*step],[step,2*step],[0,2*step],[-step,2*step],[-2*step,2*step],[-2*step,step],[-2*step,0],[-2*step,-step],[-2*step,-2*step],[-step,-2*step],[0,-2*step],[step,-2*step],[2*step,-2*step],[2*step,-step],[-3*step,1.5*step],[-3*step,.5*step],[-3*step,-0.5*step],[-3*step,-1.5*step],[3*step,1.5*step],[3*step,.5*step],[3*step,-0.5*step],[3*step,-1.5*step],[-4*step,step],[-4*step,0],[-4*step,-step],[4*step,step],[4*step,0],[4*step,-step],[-5*step,.5*step],[-5*step,-0.5*step],[5*step,.5*step],[5*step,-0.5*step],[-6*step,.5*step],[-6*step,-0.5*step],[6*step,.5*step],[8*step,-0.5*step],[-6*step,0],[6*step,0],[-7*step,0],[7*step,0]];var RandomHeapView=cc.Node.extend("ChipHeapView",{ctor:function(e){this._super(),this._chip=e,this._curIndex=1},addRandomChipPath:function(e,t){this._root||(this._root=new cc.Node,this.addChild(this._root));if(e&&t){var n=new cc.Sprite(e);n.setPosition(cc.p(t[0],t[1])),this._root.addChild(n),n.setScale(.58);if(!this._min_x||this._min_x>t[1])this._min_x=t[1];if(!this._max_x||this._max_x<t[1])this._max_x=t[1]}},getRandomPos:function(){var e=GRamdonPoints.length,t=core.random(1,e),n=[0,0];t<=this._curIndex?n=GRamdonPoints[t]:(n=GRamdonPoints[this._curIndex],this._curIndex=this._curIndex+1);var r=core.random(-5,5),i=core.random(-5,5);n[0]+=r,n[1]+=i;if(n[1]>20||n[1]<-20){var s=Math.floor(200/n[2]);s<0&&(s=-s);var o=core.random(-s,s);n[1]=n[1]*o/10}return n}});define("texas/View/Widget/RandomHeapView.js",function(){}),_GFirst=1;var CardView=cc.Node.extend("CardView",{ctor:function(e){this._super();if(!e||e.length!=2)return;this._spCard=new cc.Sprite("image/card/"+e[0]+e[1]+".png"),this.addChild(this._spCard,1),this._spCard.setPosition(cc.p(-20,35)),this._spCard.pos=cc.p(-20,35),this._spFrame=new cc.Sprite("image/card/frame.png"),this.addChild(this._spFrame,2),this._spFrame.setPosition(cc.p(-20,35)),this._spFrame.setVisible(!1),this._card=e},showFrame:function(e){e=e||!1;if(!this._spFrame)return;this._spFrame.setVisible(e)},getCard:function(){return this._card},doTurn:function(e){var t=this;if(!this._spCard)return;e=e||0,this.setVisible(!1);var n=new cc.Sprite("image/room/back.png");this.getParent().addChild(n,1e6),n.setVisible(!1);var r=this.getPosition();n.setScale(.8);var i=cc.sequence(cc.delayTime(e),cc.show(),cc.spawn(cc.moveTo(.3,r).easing(cc.easeExponentialOut()),cc.rotateBy(.3,360)),cc.callFunc(function(){n.removeFromParent(),t._spCard&&(t._spCard.setScaleX(0),t.setVisible(!0),t._spCard.runAction(cc.scaleTo(.07,1,1)))}));n.setPosition(cc.p(568,424)),n.runAction(i)},shake:function(){if(!this._spCard)return;var e=this._spCard.pos.x,t=this._spCard.pos.y,n=cc.moveTo(.07,cc.p(e-6,t+2)),r=cc.moveTo(.07,cc.p(e+6,t-2)),i=null;_GFirst%2==1?i=cc.sequence(n,r):i=cc.sequence(r,n),i=cc.repeatForever(i),this._spCard.stopAllActions(),this._spCard.runAction(i),_GFirst+=1},stopShake:function(){this._spCard.stopAllActions(),this._spCard.pos&&this._spCard.setPosition(this._spCard.pos)}});define("texas/View/Widget/CardView.js",function(){});var SpecialNumView=cc.Node.extend("SpecialNumView",{ctor:function(){this._super(),this._nums={},this._num=-1,this._forcelen=-1,this._root=new cc.Node,this.addChild(this._root),this._max_num=9},init:function(e,t){this._num=e,this._forcelen=t||-1;var n=""+e,r=n.length;if(this._forcelen>0&&r<this._forcelen){for(var i=0;i<this._forcelen-r;++i)n="0"+n;r=string.len(n)}var s=new cc.Sprite("image/nums/10_0.png"),o=s.getContentSize();for(var i=r-1;i>=0;--i){var u=n[i],a="image/nums/10_"+u+".png",f=(i-1)*o.width-(i-1)*6,l=new cc.Sprite(a,cc.rect(0,0,o.width,o.height/2));l.setPosition(cc.p(f,0)),l.setAnchorPoint(cc.p(.5,0));var c=new cc.Sprite(a,cc.rect(0,o.height/2,o.width,o.height/2));c.setPosition(cc.p(f,0)),c.setAnchorPoint(cc.p(.5,1)),this._root.addChild(l,0),this._root.addChild(c,0),this._nums[this._max_num-(r-i)]={top_sp:l,bottom_sp:c,str:u}}},changeTo:function(e){if(e==this._num)return;this._num=e;var t=""+this._num,n=t.length;if(this._forcelen>0&&n<this._forcelen){for(var r=0;r<this._forcelen-n;++r)t="0"+t;n=t.length}var i=new cc.Sprite("image/nums/10_0.png"),s=i.getContentSize();for(var r=n-1;r>=0;--r){var o=t[r],u=this._nums[this._max_num-(n-r)];this._changeOne(o,u,s,r)}},_changeOne:function(e,t,n,r){var i=this;if(t&&t.str!=e){var s="image/nums/10_"+e+".png",o=(r-1)*n.width-(r-1)*7,u=new cc.Sprite(s,cc.rect(0,0,n.width,n.height/2));u.setPosition(cc.p(o,0)),u.setAnchorPoint(cc.p(.5,0));var a=new cc.Sprite(s,cc.rect(0,n.height/2,n.width,n.height/2));a.setPosition(cc.p(o,0)),a.setAnchorPoint(cc.p(.5,1)),this._root.addChild(u,t.top_sp.getZOrder()-1),this._root.addChild(a,t.bottom_sp.getZOrder()+1),a.setScaleY(0);var f=cc.sequence(cc.scaleTo(.3,1,0),cc.callFunc(function(){var e=cc.sequence(cc.scaleTo(.2,1,1),cc.callFunc(function(){t.bottom_sp.removeFromParent(),t.bottom_sp=a}));a.runAction(e),t.top_sp.removeFromParent(),t.top_sp=null,t.top_sp=u}));t.top_sp.runAction(f),t.str=e}else if(!t){var s="image/nums/10_"+e+".png",o=(r-1)*n.width-(r-1)*7,u=new cc.Sprite(s,cc.rect(0,0,n.width,n.height/2));setPosition(cc.p(o,0)),setAnchorPoint(cc.p(.5,0));var a=new cc.Sprite(s,cc.rect(0,n.height/2,n.width,n.height/2));setPosition(cc.p(o,0)),setAnchorPoint(cc.p(.5,1)),this._root.addChild(u),this._root.addChild(a)}}});define("texas/View/Widget/SpecialNumView.js",function(){}),GCommonConst={PLAYER_ACTION_BET:1,PLAYER_ACTION_CALL:2,PLAYER_ACTION_CHECK:3,PLAYER_ACTION_FOLD:4,PLAYER_ACTION_RAISE:5,PLAYER_ACTION_ALL_IN:6},GServerMonitor={sendRequest:function(e,t,n,r,i){self=this;if(e==null||e=="")return;var s=cc.loader.getXMLHttpRequest();n?s.open("POST",e):s.open("GET",e),s.timeout=100,s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){s.readyState==4&&(s.status>=200&&s.status<=207?(strData=s.responseText,self._msgs=JSON.parse(strData),typeof r=="function"&&r()):typeof i=="function"&&i())},t==null||t==""?s.send():s.send(t)},downUrl:function(e){if(e==null)return;var t="http://7xsgwr.com1.z0.glb.clouddn.com/"+e,n=function(){};this.sendRequest(t,null,!1,this.run.bind(this),n)},save:function(e){this._msgs=JSON.parse(e)},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return n!=null?unescape(n[2]):null},init:function(){this._msgs=[],this._rid=this.getQueryString("rid"),this._record_id=this.getQueryString("record_id"),this.downUrl(this._record_id)},_runOne:function(){var e=this,t=this._msgs.length;if(this.nextIndex>=t)return;var n=0;this.nextIndex==0?n=this._msgs[this.nextIndex].time-this._msgs[0].time:n=this._msgs[this.nextIndex].time-this._msgs[this.nextIndex-1].time;var r=[];r.push(cc.delayTime(n)),r.push(cc.callFunc(function(){var t=e._msgs[e.nextIndex];e["receive_"+t.cmd](t.msg),++e.nextIndex,e._runOne()})),cc.director.getRunningScene().runAction(cc.sequence(r))},run:function(){self=this,self.nextIndex=0,self._runOne()},receive_gamestart:function(e){GPage_Room.beginGame(e)},receive_seatsinfo:function(e){GPage_Room.onBlindChip(e.seats)},receive_holecard:function(e){var t=this._rid;core.foreach(e,function(e,n){if(t==e){var r=GHelper.serverCardToClientCard(n);GPage_Room.onHoleCard(r)}})},receive_doaction:function(e){GPage_Room.doAction(e)},receive_actionresult:function(e){GPage_Room.OnDoAction(e)},receive_flopcardinfo:function(e){GPage_Room.addFlopCards(GHelper.serverCardToClientCard(e.flop_cards))},receive_turncardinfo:function(e){GPage_Room.addTurnCard(GHelper.serverCardToClientCard(e.turn_card))},receive_rivercardinfo:function(e){GPage_Room.addRiverCard(GHelper.serverCardToClientCard(e.river_card))},receive_potsinfo:function(e){var t=[];core.foreach(e.pots,function(e,n){t.push(n.total_bet)}),GPage_Room.onRoundEnd(t)},receive_lightcard:function(e){var t=GPageMgr.getPage("Page_Room"),n={};core.foreach(e.cards_list,function(e,t){n[e]=GHelper.serverCardToClientCard(t.cards)}),t.onLightCard(n)},receive_gameresult:function(e){var t=[];core.foreach(e.pot_results,function(e,n){var r={chip:n.total_bet,seats:[]};core.foreach(n.win_player_indexes,function(e,t){r.seats.push(t)}),t.push(r)});var n={};core.foreach(e.player_results,function(e,t){t.rid>0&&(n[t.index]={state:t.state,seat_index:t.index,rid:t.rid,chip:t.chips,giveup:t.state==4,card_type:t.card_form,card_result:GCardTool.getCardEnd(GHelper.serverCardToClientCard(t.form_cards)),hole_cards:GHelper.serverCardToClientCard(t.hole_cards)})});var r={pots:t,roles:n};GPage_Room.onGameEnd(r)}},define("texas/Logic/GServerMonitor.js",function(){}),GCardTool={getCardEnd:function(e){if(!e)return[-1];var t=e.length;if(t<5)return[-1];core.foreach(e,function(e,t){t[1]==0&&(t[1]=13)});var n=[];for(var r=0;r<t-4;++r)for(var i=r+1;i<t-3;++i)for(var s=i+1;s<t-2;++s)for(var o=s+1;o<t-1;++o)for(var u=o+1;u<t;++u)n.push([e[r],e[i],e[s],e[o],e[u]]);var a=this._getCardResult(n[0]),f=0;for(var l=1,c=n.lenghth;l<c;++l){var h=this._getCardResult(n[l]),p=1;if(h[0]==a[0]){while(h[p]&&a[p]&&h[p][1]==a[p][1])p+=1;h[p]&&a[p]&&h[p][1]>a[p][1]&&(a=h,f=l)}else h[0]>a[0]&&(a=h,f=l)}return a.cards=n[f],a.index=self._index,a},_getCardResult:function(e){e=this._sortCards(e);var t=this._isTongHuaShun(e);if(t[0])return t[1]<14?(t[0]=9,t):(t[0]=10,t);var t=this._isSiTiao(e);if(t[0])return t[0]=8,t;var t=this._isHuLu(e);if(t[0])return t[0]=7,t;t=this._isTongHua(e);if(t[0])return t[0]=6,t;t=this._isShunZi(e);if(t[0])return t[0]=5,t;t=this._isSantiao(e);if(t[0])return t[0]=4,t;t=this._isLiangDui(e);if(t[0])return t[0]=3,t;t=this._isYiDui(e);if(t[0])return t[0]=2,t;var n=this._sortCards(e);t=[1];var r=1;return core.foreach(n,function(e,n){r+=1,t[r]=n}),t},_sortCards:function(e){var t=[];return core.foreach(e,function(e,n){t.push(n)}),t.sort(function(e,t){return e[1]>t[1]}),t},_isTongHuaShun:function(e){var t=this._isTongHua(e);return t[0]?this._isShunZi(e):[!1]},_isTongHua:function(e){var t=null;for(var n=0;n<5;++n){var r=e[n];if(!t)t=r[0];else if(t!=r[0])return[!1]}var i=[!0];return core.foreach(5,function(t){i.push(e[t])}),i},_isShunZi:function(e){for(var t=1;t<4;++t){var n=e[t][1]-e[t+1][1];if(n!=1)return[!1]}return e[0][1]==14?e[4][1]!=2&&e[1][1]!=13?[!1]:e[4][1]==2?[!0,e[1],e[2],e[3],e[4],e[0]]:[!0,e[0],e[1],e[2],e[3],e[4]]:e[0][1]-e[1][1]!=1?[!1]:[!0,e[1],e[2],e[3],e[4],e[4]]},_isSiTiao:function(e){var t=e;return t[1][1]!=t[2][1]||t[2][1]!=t[3][1]?[!1]:t[0][1]==t[1][1]?[!0,t[0],t[1],t[2],t[3],t[4]]:t[2][1]==t[3][1]?[!0,t[1],t[2],t[3],t[4],t[0]]:[!1]},_isHuLu:function(e){var t=this._isSantiao(e);return t[0]?t[4][1]!=t[5][1]?[!1]:[!0,t[1],t[2],t[3],t[4],t[5]]:[!1]},_isSantiao:function(e){for(var t=0;t<3;++t){var n=t+1,r=n+1;if(e[t][1]==e[n][1]&&e[n][1]==e[r][1]){var i=null,s=null;return t==0?(i=e[3],s=e[4]):t==1?(i=e[0],s=e[4]):t==2&&(i=e[0],s=e[1]),i[1]>s[1]?[!0,e[t],e[n],e[r],i,s]:[!0,e[t],e[n],e[r],s,i]}}return[!1]},_isLiangDui:function(e){var t=this._isYiDui(e);return t[0]?t[3][1]==t[4][1]?t[1][1]>t[3][1]?t:[!0,t[3],t[4],t[1],t[2],t[5]]:t[4][1]==t[5][1]?t[1][1]>t[4][1]?[!0,t[1],t[2],t[4],t[5],t[3]]:[!0,t[4],t[5],t[1],t[2],t[3]]:[!1]:[!1]},_isYiDui:function(e){for(var t=0;t<4;++t){var n=t+1;if(e[n]&&e[t][1]==e[n][1]){var r=e[t],i=[];core.foreach(e,function(e,t){t[1]!=r[1]&&i.push(t)});var s=[!0,e[t],e[n]],o=this._sortCards(i);for(var t=0;t<3;++t)s.push(o[t]);return s}}return[!1]}},define("texas/Logic/GCardTool.js",function(){}),require(["Framework/Core/Base.js","Framework/Core/GAstar.js","Framework/Core/GHelper.js","Framework/Core/JsExtention.js","Framework/Core/GTriggerMgr.js","Framework/Core/BehaviorAI.js","Framework/Config/_inc_.js","Framework/Config/GCfg.js","Framework/Net/IWebSocketNode.js","Framework/Tool/GAniTool.js","Framework/Tool/GAudioTool.js","Framework/Tool/GBattleMgr.js","Framework/Tool/GIconTool.js","Framework/Tool/GResMgr.js","Framework/View/Layer/RootLayer.js","Framework/View/Map/BaseMap.js","Framework/View/Map/MapManager.js","Framework/View/Page/BasePage.js","Framework/View/Page/PageManager.js","Framework/View/Role/BaseRole.js","Framework/View/Role/RoleManager.js","Framework/View/Scene/GameScene.js","Framework/Plug-in/_inc_.js","Framework/Plug-in/AI/BaseAI.js","Framework/Plug-in/AI/EasyBossAI.js","Framework/Plug-in/AI/EasyHeroAI.js","Framework/Plug-in/AI/EasyMonsterAI.js","Framework/Plug-in/Buff/Buff.js","Framework/Plug-in/Map/DnfMap.js","Framework/Plug-in/Map/TileMap.js","Framework/Plug-in/Skill/BaseSkill.js","Framework/Plug-in/Skill/BasicSkill.js","Framework/Plug-in/Skill/SkillManager.js","Framework/Plug-in/Task/GTaskMgr.js","Framework/IGame.js","resource.js","texas/View/Page/Page_Room.js","texas/View/Role/RoleView.js","texas/View/Widget/ChipView.js","texas/View/Widget/AnimationChipView.js","texas/View/Widget/RandomHeapView.js","texas/View/Widget/CardView.js","texas/View/Widget/SpecialNumView.js","texas/Logic/GServerMonitor.js","texas/Logic/GCardTool.js"],function(e,t,n){alert(t+n)}),define("batFile",function(){});